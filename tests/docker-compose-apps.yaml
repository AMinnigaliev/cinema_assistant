services:
  auth_service:
    build: ../auth_service/
    container_name: ${AUTH_SERVICE_HOST}
    expose:
      - "${AUTH_SERVICE_PORT}"
    depends_on:
      redis:
        condition: service_healthy
      postgres:
        condition: service_healthy
    env_file:
      - .env

  movies_service:
    build: ../movies_service/
    container_name: ${MOVIES_SERVICE_HOST}
    expose:
      - "${MOVIES_SERVICE_PORT}"
    depends_on:
      redis:
        condition: service_healthy
      elasticsearch:
        condition: service_healthy
    env_file:
      - .env